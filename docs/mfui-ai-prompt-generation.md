# MFUI AI Prompt Generation Documentation

Generated by Maya (MFUI UX Expert) on 2025-01-14

## Overview

This document contains the comprehensive AI frontend generation prompt optimized for MoneyForward's MFUI design system and LA Frontend proven patterns. This prompt can be used with any AI-driven frontend development tool (v0, Lovable, etc.) to generate production-ready React components.

## Generated Prompt

### High-Level Goal
Generate production-ready React components using MoneyForward's MFUI design system, following proven patterns from LA Frontend implementations while ensuring WCAG 2.2 accessibility compliance and mobile-first responsive design.

### Project Context & Tech Stack

**Primary Framework:** React 18+ with TypeScript
**Component Library:** MoneyForward MFUI (50+ semantic components)
**Styling:** CSS Modules + MFUI design tokens
**Architecture:** Component-driven development with semantic HTML
**Accessibility:** WCAG 2.2 Level A compliance
**Testing:** Vitest + Testing Library with accessibility-first queries
**Design System:** UIDS v2 compliant with MoneyForward design tokens

### Core Design Principles (CRITICAL - Follow These Always)

1. **NEVER create custom components** - Use existing MFUI components only
2. **Semantic component selection** - Choose based on function, not appearance  
3. **LA Frontend patterns first** - Follow proven implementation patterns
4. **Mobile-first responsive** - Design for mobile, then adapt up
5. **Accessibility by default** - Semantic HTML + proper ARIA attributes

### MFUI Component Decision Tree

#### Data Input:
- Single text ‚Üí `TextBox`
- Long text ‚Üí `MultilineTextBox`
- Single selection ‚Üí `SelectBox`
- Multiple selection ‚Üí `MultipleSelectBox`
- Date/time ‚Üí `DatePicker`, `MonthPicker`
- Files ‚Üí `FileDropZone`
- Boolean ‚Üí `Checkbox`, `RadioButton`
- Search ‚Üí `SearchBox`

#### Data Display:
- Interactive tables ‚Üí `DataGrid` with sorting/filtering
- Read-only tables ‚Üí `DisplayTable`
- Key-value pairs ‚Üí `KeyValue` layout
- Status indicators ‚Üí `Badge`, `StatusLabel`
- Categories ‚Üí `Tag`
- Long text ‚Üí `Typography` with semantic variants

#### Layout:
- Page structure ‚Üí `PageLayout` with `PageLayout.Header`
- Content grouping ‚Üí `Panel`
- Vertical spacing ‚Üí `VStack` with semantic tokens
- Horizontal spacing ‚Üí `HStack` with semantic tokens
- Form layouts ‚Üí `KeyValue` with 160px labels

### Detailed Step-by-Step Instructions

#### 1. Component Structure Generation
1. Always use `forwardRef` for MFUI component compatibility
2. Import MFUI components from `@mfui/components`
3. Use CSS Modules for styling (`ComponentName.module.css`)
4. Include TypeScript interfaces extending appropriate HTML elements
5. Add JSDoc documentation for all props

#### 2. Form Component Pattern
```tsx
import { VStack, HStack, KeyValue, TextBox, Button, HelpMessage } from '@mfui/components'
import styles from './FormComponent.module.css'

// Always use this KeyValue pattern for forms
<VStack gap="paragraph.vertical">
  <KeyValue
    gridTemplateColumns="160px 1fr"
    keyItem={<label htmlFor="fieldId">Field Label</label>}
    valueItem={
      <VStack gap="icon-and-text.vertical">
        <TextBox
          id="fieldId"
          value={value}
          onChange={onChange}
          invalid={hasError}
          required
        />
        {error && <HelpMessage messageType="error">{error}</HelpMessage>}
      </VStack>
    }
  />
</VStack>
```

#### 3. Data Table Pattern
```tsx
// Always use this DataGrid pattern
<DataGrid layout="edge-to-edge" fixedHeader size="medium">
  <colgroup>
    {columns.map(col => <col key={col.key} style={{ width: col.width }} />)}
  </colgroup>
  
  <DataGrid.Header>
    <DataGrid.HeaderRow>
      {columns.map(col => (
        <DataGrid.HeaderCell key={col.key}>{col.label}</DataGrid.HeaderCell>
      ))}
    </DataGrid.HeaderRow>
  </DataGrid.Header>
  
  <DataGrid.Body>
    {data.map(row => (
      <DataGrid.Row key={row.id}>
        {columns.map(col => (
          <DataGrid.Cell key={col.key}>{col.render(row)}</DataGrid.Cell>
        ))}
      </DataGrid.Row>
    ))}
  </DataGrid.Body>
</DataGrid>
```

#### 4. Page Layout Pattern
```tsx
// Always use this page structure
<PageLayout
  headerSlot={
    <PageLayout.Header
      headingSlot={<Heading tag="h1" variant="pageHeading1">{title}</Heading>}
      actionSlot={<Button priority="primary">{actionText}</Button>}
      backButtonProps={{ href: backPath }}
      showBackButton={hasParent}
    />
  }
>
  <VStack gap="section.vertical">
    <MainContent />
  </VStack>
</PageLayout>
```

### Required Code Examples & Data Structures

#### MFUI Import Pattern
```tsx
import { 
  Button, TextBox, VStack, HStack, KeyValue, 
  DataGrid, Panel, Typography, Badge 
} from '@mfui/components'
import styles from './Component.module.css'
import { cx } from 'class-variance-authority'
```

#### CSS Modules with Design Tokens
```css
/* Component.module.css */
.container {
  padding: var(--mfui-space-container-horizontal);
  gap: var(--mfui-space-paragraph-vertical);
}

.header {
  border-bottom: 1px solid var(--mfui-color-neutral-border-none);
}
```

#### TypeScript Interface Pattern
```tsx
interface ComponentProps extends React.ComponentPropsWithRef<'div'> {
  title: string;
  onAction: () => void;
  loading?: boolean;
  variant?: 'primary' | 'secondary';
}
```

### Critical Constraints & Anti-Patterns

#### ‚ùå NEVER DO:
- Create custom HTML buttons ‚Üí Use `Button` or `IconButton`
- Use plain HTML tables ‚Üí Use `DataGrid` or `DisplayTable`
- Create custom form elements ‚Üí Use MFUI form components
- Use hardcoded spacing ‚Üí Use semantic spacing tokens
- Ignore loading states ‚Üí Use `ProgressIndicator` or `Skeleton`
- Create custom modals ‚Üí Use `Dialog`, `SidePane`, or `EmbeddedSidePane`

#### ‚úÖ ALWAYS DO:
- Use semantic MFUI components for all UI elements
- Include proper accessibility attributes (labels, ARIA)
- Handle loading, error, and empty states
- Use CSS Modules with MFUI design tokens
- Follow mobile-first responsive patterns
- Include TypeScript types and JSDoc

### Responsive Breakpoints
- Mobile: 0-767px (stack layouts, touch targets)
- Tablet: 768-1023px (adaptive layouts)
- Desktop: 1024-1439px (full layouts)
- Wide: 1440px+ (extended layouts)

### Accessibility Requirements
- Semantic HTML structure
- Proper heading hierarchy (h1-h6)
- Associated labels for form inputs
- Keyboard navigation support
- Screen reader compatibility
- Color contrast compliance through MFUI tokens

### Strict Scope Definition

#### You SHOULD:
- Generate complete component files with proper imports
- Include CSS Module files with MFUI design tokens
- Add TypeScript interfaces and JSDoc
- Handle all component states (loading, error, success)
- Include basic unit tests with Testing Library
- Follow LA Frontend proven patterns exactly

#### You MUST NOT:
- Modify existing components or utilities
- Create custom design tokens or CSS variables
- Use non-MFUI components or libraries
- Ignore accessibility requirements
- Generate backend API code
- Modify package.json or build configuration

### Example Generation Request Format

"Generate a user registration form component following MFUI patterns with:
1. Name (TextBox), Email (TextBox), Role (SelectBox) fields
2. KeyValue layout with 160px labels
3. Form validation with HelpMessage components  
4. Loading state with disabled submit button
5. Success/error handling with SectionMessage
6. Mobile-first responsive design
7. Full TypeScript interfaces and CSS Modules"

## Usage Instructions

### For AI Code Generation Tools:

1. **Copy the entire prompt** from this document
2. **Paste into your preferred AI tool** (v0, Lovable, etc.)
3. **Add your specific component requirements** at the end
4. **Review generated code** for MFUI compliance
5. **Test accessibility** and responsive behavior

### For Development Teams:

1. **Use as template** for manual component development
2. **Reference patterns** for consistent implementation
3. **Validate against checklist** before code review
4. **Ensure accessibility testing** is performed

## Quality Assurance Checklist

Generated components should meet these criteria:

- [ ] Uses semantic MFUI components only
- [ ] Follows LA Frontend proven patterns
- [ ] Includes proper TypeScript types
- [ ] Handles loading states appropriately
- [ ] Handles error states with proper messaging
- [ ] Handles empty states with user guidance
- [ ] Uses CSS Modules for component styling
- [ ] Includes accessibility attributes (ARIA, labels)
- [ ] Follows mobile-first responsive design
- [ ] Matches MoneyForward design principles
- [ ] Complies with WCAG 2.2 Level A standards

## Expected Outcomes

Using this prompt with AI generation tools should produce:

### ‚úÖ Consistent Results:
- MFUI component library compliance
- LA Frontend proven patterns
- WCAG 2.2 accessibility standards
- Mobile-first responsive design
- TypeScript + CSS Modules architecture
- Production-ready code quality

### üéØ Key Benefits:
- Reduced development time through proven patterns
- Automatic design system compliance
- Built-in accessibility features
- Consistent MoneyForward user experience
- Maintainable, scalable code architecture

## Important Notes

### Human Review Required
All AI-generated code requires careful human review, testing, and refinement before production deployment. Always validate:
- Accessibility compliance
- Performance characteristics
- MoneyForward design system adherence
- Business logic correctness

### Integration Considerations
- Ensure MFUI library is properly installed and configured
- Verify design token CSS custom properties are available
- Test component integration with existing application state
- Validate API integration patterns match project architecture

## Related Documentation

- [Frontend Specification](./front-end-spec.md) - Complete UI/UX specification
- [MFUI Component Library Documentation](../.bmad-core/data/mfui-component-library.md) - Component reference
- [LA Frontend Patterns](../.bmad-core/data/la-frontend-patterns.md) - Proven implementation patterns

## Maintenance

This prompt should be updated when:
- New MFUI components are released
- LA Frontend patterns evolve
- Accessibility standards change
- New AI generation tools require different formats

---

*Generated by Maya (MFUI UX Expert) using structured prompting framework and MoneyForward design system expertise*